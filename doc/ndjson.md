# NDJSON Representation of Dataset-JSON

### Introduction

The purpose of the NDJSON, or new-line delimited JSON, representation of Dataset-JSON is to simplify streaming 
large datasets. With NDJSON, dataset can easily be read or written one row at a time without the need to load the entire 
dataset into memory. Most programming languages have libraries that can read a large JSON dataset as a stream, but in cases 
where such a library is not available or performs poorly the NDJSON format makes it easy for the program read and write 
a row at a time. The NDJSON format is an alternative to the JSON format and both are part of the Dataset-JSON standard.

The NSJSON and JSON dataset content are the same. The only difference is that the NDJSON content is written as 1 line
of valid JSON at a time. See The Dataset-JSON NDJSON format section below for a detailed description of the NDJSON 
format.

In a data exchange scenario, the sender and receiver determine whether to use the JSON or NDJSON representation of 
Dataset-JSON. Given the relative simplicity of the Dataset-JSON specification, converting between the two formats is a
straightforward process. The NDJSON example datasets were generated by converting the existing JSON Dataset-JSON 
example datasets.

### The Dataset-JSON NDJSON format

[NDJSON](https://github.com/NDJSON/NDJSON-spec) is a standard for delimiting JSON in stream protocols. In NDJSON, each
line is valid JSON. The JSON is delimited by the newline character (\n or 0x0A) which may be preceeded by a carriage
return character (\r or 0x0D). UTF-8 encoding is expected.

The Dataset-JSON NDJSON format is created from the Dataset-JSON standard by:
* Row 1. Create 1 JSON object from the dataset attributes. Includes all by the columns and rows attributes.
* Row 2. Create 1 JSON object that contains an array of variable metadata definitions taken from the columns attribute.
* Row 3 - n. Create 1 array per data row

![NDJSON Proposed Changes](/doc/img/ndjson-json-structure.JPG?raw=true)

Each row can be parsed and processed as standalone JSON text.

### Examples

The NDJSON example datasets have been converted from the JSON versions, so they contain the same content. The examples 
are available in the examples/NDJSON folder and use .NDJSON as the extension.



